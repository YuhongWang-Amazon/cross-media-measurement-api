syntax = "proto3";

package wfa.measurement.api.v1alpha;

option java_package = "org.wfanet.measurement.api.v1alpha";
option java_multiple_files = true;
option java_outer_classname = "GlobalComputationProto";

message GlobalComputation {
  message Key {
    string global_computation_id = 1;
  }
  Key key = 1;

  GlobalComputationState.State state = 2;
}

message GlobalComputationState {
  message Key {
    string global_computation_id = 1;
  }
  Key key = 1;

  enum State {
    // No knowledge of the computation.
    STATE_UNKNOWN = 0;

    // In progress.
    RUNNING = 1;

    // Computation exists, but no further progress will be made until told to
    // resume.
    PAUSED = 2;

    // Computation existed, but was cancelled and cannot be resumed.
    CANCELLED = 3;
  }
  State state = 2;
}